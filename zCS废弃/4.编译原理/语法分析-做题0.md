## 基础题

非终结符集合：$V_N$
终结符集合：$V_T$
产生式集合：$P$
初始非终结符：$S$
从语言(正规表达式)构造文法：$G=\{V_N,V_T,P,S \}$​

### 推导语法树、求句型短语、简单短语、句柄

> [!note]
>
> 短语：在语法树中，以非终结符为root，两代以上子树(包括root代)所有末端节点从左到右的排列
>
> 直接短语：
>
> - L经过一步推导到a
>
> - 在语法树中：以非终结符为root的(只有)两代子树，L->a，L->....
>
> 句柄：最左两代子树的末端



### 文法分类（区分短语结构文法、上下文有(无)关文法、正规文法）

逐步增加对产生式的限制条件

0. 短语结构文法：左边都存在非终结符

1. 上下文有关文法：所有产生式右部长度都 >= 左部长度

2. 上下文无关文法：产生式左边都是单个非终结符

3. 正规文法：产生式右部只有3种形式：单个终结符或者空串、单个终结符+一个非终结符（按照顺序具体分为左线性或者右线性，只能满足一个）
    1. 左线性文法
    2. 右线性文法

> 每个产生式不用都应用一遍4条规则
>
> 先对每个产生式应用2型文法规则（即判断：左部都是单个非终结符），把2、3形先筛选出来再具体判断
>
> 再对剩余的文法用1形规则筛选为1形文法（即判断：右部都大于等于左部，不满足是0形文法
>

### 左线性文法转换到等价的右线性文法

![image-20240618162054278](./images/image-20240618162054278.png)

### 压缩过文法(去掉不可到达和不可终止的产生式)

文法中不含有形如 A::=A 的规则 
每一个非终结符必须在某句型中出现（不可到达） 
(由开始符号根本到不了的非终结符)

非终结符 A 必须推出终结符串 t（不可终止）

![image-20240618153439984](./images/image-20240618153439984.png)

注：A::=Ae|e 这是对的，因为满足终止

### 扩充BNF表示文法

![image-20240628140144349](./images/image-20240628140144349.png)

### 左线性文法转右线性文法



### 描述文法产生的语言（将文法转换为正规表达式）

 ![image-20240611210116865](./images/image-20240611210116865.png)

 > （其实凭感觉自底向上做就好了）
>
> 整体代入法？整体很重要，建议每个整体都用括号套上
>
> 先求最底层的正规表达式，一步一步往上带入
>
> 注：最后相同的终结符只能出现一次

>  注：其实只要理解解方程思想就行，公式就是把最基本的递归文法解释成正规式
>
>  1. 将产生式`S=aS | b` 转化为`S=aS + b`
>  2. 口诀：左递归常数在左边，右递归常数在右边，中递归常数在中间，常数是什么，常数就是不是非终结符的那部分
>  3. 一句话总结：b为S的终止符，S在a的哪边，b就在结果a*的哪边
>
>  解方程式组式做法(要记公式)
>
>  左递归：**X=Xa+b -> X=ba***
>
>  右递归：**X=aX+b -> X=a*b**
>
>  中递归：**X=aXc+b ->X= a* bc***
>
>  遇到调用其他非终结符时，就先求该非终结符的正规表达式
>
>  最后将*的形式转化为n/m/i/j/k的形式，并指出变量的范围
>
>  （注意：
>
>  - 不同符号的递归次数不一样，因此 *号不能都转化为同一个字母
>  - 对于变量，最后的形式尽量保持只有一个变量，没有常数，即要化简
>      比如说同时出现了i+1，j+1等形式，对每个出现了ij的式子都要做-1处理，同时出现了2个i/j就减2
>
>  ![image-20240615182322467](./images/image-20240615182322467.png)

> 对于左线性/右线性文法，可以先转换为状态图，根据状态图可以直接写出正规式



### 证明正规表达式相等

$$
L(A|B)=L(A)∪L(B)\\
L(AB)=L(A)L(B)\\
L(A^*)=L(A)^*\\
再不济，将表达式写出来
$$



![image-20240628135120803](./images/image-20240628135120803.png)

### 证明文法二义性

同一个句子/句型画出2棵不同的语法树即可



![image-20240618160221816](./images/image-20240618160221816.png)



### 消除文法二义性

左右结合性/优先级导致的二义性

## 求最左推导

求一个句子的最左推导过程

![image-20240609211348799](./images/image-20240609211348799.png)
