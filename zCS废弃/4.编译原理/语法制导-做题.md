## 知识点

语义：语句的含义，编译器不能改变语义

在自顶向下或自底向上过程中嵌入语义动作





文法符号具有某些属性：X.a

- 综合属性

文法产生式具有某些语义规则：用于解释值的传递和计算

## LR语法制导翻译







## 中间语言表示

### 后缀表示

加括号，符号移到对应括号的后面,记得=也要转换

![image-20240628140651705](./images/image-20240628140651705.png)

### 三元式表示表达式

$标号(OP,参数1，参数2)$(只有一个参数的话，参数2省略)

如果需要用到前面的结果，就用对应标号表示结果

![image-20240628140530439](./images/image-20240628140530439.png)

### 四元式表示表达式

最后一个参数用T~n~表示当前四元式的结果

![image-20240628140544049](./images/image-20240628140544049.png)

## 条件语句翻译成四元式



|   OP    | 对应c语言符号 |   四元式示例    |
| :-----: | :-----------: | :-------------: |
|   j=    |      ==       |                 |
|   :=    |     =赋值     | **$(:=,0,,f)$** |
|    j    |   强制跳转    |                 |
|   j<>   |               |                 |
| **jnz** |     != 0      |                 |
|   j>    |       >       |                 |
|   j<    |       <       |                 |
|         |               |                 |

![image-20240628140720402](./images/image-20240628140720402.png)

1. 每个条件四元式后面，按顺序跟者假出口、真出口
2. 每一个最内层执行完之后，都要跟上一个跳出到最外层的四元式，即最后一个return的四元式


$$
100(jnz,a,,102)\\
101(j,,,109)\\
102(jnz,b,,104)\\
103(j,,,109)\\
104(j>,c,d,106)\\
105(j,,,109)\\
106(j<,a,b,108)\\
107(:=,f,0,110)\\
108(:=,f,1,110)\\
109(:=,g,2,0)\\
110
$$
![image-20240628223238066](./images/image-20240628223238066.png)
$$
100(jnz,a,,102)\\
101(j,,,112)，假出口\\
102(jnz,b,,104)，真出口\\
103(j,,,112)，假出口\\
104(j>,c,d,106)，真出口\\
105(j,,,112)，假出口\\
106(j<,a,b,108)，真出口\\
107(j,,,110)，假出口\\
108(:=,1,,f)\\
109(j,,,113)，跳转最外层\\
110(:=,0,,f)\\
111(j,,,113)，跳转最外层\\
112(:=,2,,g)\\
113
$$
