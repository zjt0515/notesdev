

# index

https://www.bilibili.com/video/BV1Vv411p7Sn/?spm_id_from=333.788.recommend_more_video.0&vd_source=a6f0ee69351d992f6798c937a32c9968



物理层：比特流

链路层：数据帧

网络层：分组/数据报

传输层：报文段



## 物理层



## 链路层

> 链路层：
>
> 解决的问题：
>
> 1. 封装成帧: 数据的前后部分添加首部尾部，IP数据报 → 帧首部+帧的数据部分 → 帧尾部
>     帧定界符SOH/EOT：特殊的八位二进制数，可以确定帧的界限
>
>     最大传输单元MTU：帧的数据部分有大小上限，一般是1500字节
>
> 2. 透明传输：不管数据的比特组合，都能在链路上传输
>     字符/字节填充法解决透明传输（转移字符）：发送方发现数据部分存在和控制信息相同的比特组合时，填充转义字符
>
> 3. 差错检测：
>
>     1. 位错：循环冗余检验CRC
>     2. 帧错 丢失/重复/失序：
>         1. 丢失：计时器超时重传
>
> 为网络层提供的服务：
>
> 1. 无/有确认的无连接服务
> 2. 有确认的面向连接服务（有连接一定有确认）



> 信道类型：
>
> 1. 点对点信道：一对一
> 2. 广播信道：一对多

### 问题：差错检测过程

1. 准备数据，多项式为r+1位
2. 每个组加上冗余码构成帧
3. 接收方检验：d+r / 生成多项式
    1. 有余数丢弃
    2. 无余数接收

二进制除法时，相减使用异或，同0异1

> [!ques]
>
> 发送的数据是1101 0110 11，采用CRC校验，生成多项式是10011, 最终发送的数据是？
>
> [!ans]
>
> 1. r+1 = 5, 则数据后补上4个0
> 2. 帧检验序列FCS= (1101 0110 11 0000) / 10011的余数
> 3. 最终发送数据：要发送数据+FCS



### PPP协议

点对点协议

PPP协议实现透明传输的方法：

1. 异步传输：字节填充法
2. 同步传输：零比特填充法，标识字段F为11 1110

### CSMA/CD协议

介质访问控制

1. 静态划分信道
2. 动态分配信道
    1. 随机接入，CSMA/CD协议

CS：载波监听，发送数据前和发送数据时都要检测其他计算机是否在发送

MA：多点接入，总线型网络

CD：碰撞检测，边发送边监听

半双工, 局域网广播信道使用

检测到冲突时，停止发送，等待空闲时间



### 局域网

> 局域网：某区域内多台计算机互联成的计算机组，使用广播信道
>
> 1. 覆盖范围小，通信延迟短，传输速率高，具有广播功能
> 2. 有线局域网：双绞线，光纤，同轴电缆
> 3. 无线局域网：红外，微波

以太网：使用CSMA/CD技术

计算机通过适配器/网卡连接到局域网/以太网

## 网络层

> 网络层：向上提供灵活的、无连接的、数据报交付服务
> 任务：将分组（IP数据报）通过路由选择和转发传输

路由表：

| 目的网络 | 下一跳 |
| -------- | ------ |
|          |        |

IP数据报格式



### ip

### 协议

### 题目：路由表问题

> 128: 1000 0000
> 192: 1100 0000

给出一个路由表，确定目的IP地址的下一跳

1. 将目的地址和子网掩码相与

## 6.传输层

> 传输层：提供进程和进程之间的逻辑通信，靠套接字Socket(ip+端口)找到应用进程
>
> 对收到的报文进行差错检验
>
> 

### TCP协议和UDP协议

> TCP：面向连接、可靠、时延大、适合大文件
> 同一时间点对点
>
> UDP：无连接、不可靠、时延小、适合小文件
>
> 常用应用程序的熟知端口号



## 7.应用层