# os概述

> [!note]
>
> 定义: 操作系统是计算机系统中的**系统软件**，是一些**程序模块的集合**——它们能以尽量有效合理的方式组织和**管理计算机的软硬件资源**，合理的**组织计算机的工作流程**；控制程序的执行并向用户提供各种服务功能 ，使整个计算机系统能高效地运行；改善人机界面，使用户能够灵活、方便、有效的使用计算机。
>
> 操作系统的4个特征
>
> 1. **并发**：两个或多个事件在同一**时间间隔**内发生(**并行是同一时刻**)
> 2. **共享**
>     1. 互斥共享
>     2. 同时访问/分时共享
> 3. **虚拟**:  将一个物理实体变为若干个逻辑对应物
> 4. **异步**(不确定性):  进程以**不可预知**的速度向前推进
>
> OS分类
>
> 1. 批处理
> 2. 分时
> 3. 实时
>
> **用户和操作系统之间的接口：**
>
> 1. **命令**界面
> 2. **程序**接口
> 3. **图形**界面
>
> 现代操作系统的四大管理模块：
>
> 1. 处理器管理
> 2. 存储管理
> 3. 设备管理
> 4. 文件管理
>
> 现代操作系统的设计目标： 
>
> 1. 方便性
> 2. 有效性
> 3. 可扩充性
> 4. 开放性
>
> 吞吐量：系统一段时间内输入输出(IO)能力

## OS分类

| 分类     | 描述                        | 优缺点                                                       |
| -------- | --------------------------- | ------------------------------------------------------------ |
| 批处理   | 批量处理，cpu不会被共享使用 | 资源利用率高、系统吞吐量大，这也是设计批处理首先考虑的<br />进程平均周转时间长，用户响应时间长。系统开销大，无交互能力 |
| **分时** | 每个任务轮流使用时间片      | **响应时间短**，允许一台主机同时连接多台终端                 |
| 实时     | 随机发送的事件及时响应      | 响应及时，可靠性高                                           |

## 多道程序设计

内存中存放多个程序，交替使用CPU，每个进程都处于走走停停的状态

## 甘特图分析进程

> [!ques]
>
> (1) 作业A  : 输入10s  , 运行20s  , 输出20s 
> (2) 作业B  : 输入20  , 运行20  , 输出30  , 运行30  , 输出10s
> (3) 作业C  : 输入20s  , 运行30s  , 输出30s  .

> [!tip]
>
> 单道程序，甘特图串行连接即可，计算总耗时：全部相加
>
> 多道程序，输入输出、cpu可以同时运行，总耗时：画图，每个设备一条直线
> $$
> cpu利用率=\frac{运行时间}{总耗时}\\
> 输入设备利用率=\frac{输入时间}{总耗时}\\
> 输出设备利用率=\frac{输出时间}{总耗时}\\
> $$
> 

> [!ques]
>
> 1、一个计算机系统，有一台输入机和一台打印机，现有两道程序投入运行，且程序A先开始运行，程序B后开始运行。程序A的运行轨迹为：计算50ms、打印100ms、再计算50ms、打印100ms，结束。程序B的运行轨迹为：计算50ms、输入80ms、再计算100ms，结束。请回答以下问题：
>
> l 两道程序运行时，CPU有无空闲等待？若有，在哪段时间内等待？为什么会等待？
>
> l 程序A、B有无等待CPU的情况？若有，指出发生等待的时刻。
>
> [!ans]
>
> ```mermaid
> ---
> displayMode: compact
> ---
> gantt
>   title 甘特图示例
>   dateFormat X
>   axisFormat %s
>   section cpu
>   A计算:0, 50
>   B计算:50,100
>   A计算:150,200
>   B计算:200,250
>   section 输出
>   A打印:50,150
>   section 输入
> 	B输入:100,180
>   section 程序A
>   A计算:0,50
>   A打印:50,150
>   A计算:150,200
>   A打印:200,300
>   section 程序B
>   B计算:50,100
>   B输入:100,180
>   B计算:200,250
>   B打印:200,300
> 
> 
> ```
>
> 1. CPU空闲等待：100-150
> 2. 程序B等待CPU: 0-50ms, 180-200ms





## 其他

原语: 在操作系统中,不能被操作系统中断的特殊程序
